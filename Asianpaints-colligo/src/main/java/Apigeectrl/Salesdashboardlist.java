package Apigeectrl;

import org.json.JSONException;
import org.json.JSONObject;

import com.apigee.flow.execution.ExecutionContext;
import com.apigee.flow.execution.ExecutionResult;
import com.apigee.flow.message.MessageContext;
import com.google.gson.Gson;
import com.google.gson.JsonObject;

import Repository.Glpostingrepository;
import Repository.SalesDashboardlistrepo;
import Services.Salesdashboard;
import Utilres.ValidationCtrl;

public class Salesdashboardlist {
	
    private ValidationCtrl validate;
    private Salesdashboard salesDash;
	
	public Salesdashboardlist() {
		// TODO Auto-generated constructor stub
	    validate = new ValidationCtrl();
	    salesDash = new SalesDashboardlistrepo();
	}
    
    public ExecutionResult getSalesDashboardList(MessageContext messageContext, ExecutionContext executionContext) {
        // TODO Auto-generated method stub
        JsonObject data = new Gson().fromJson(messageContext.getVariable("request.content").toString(), JsonObject.class);
        Object validatecheck = validate.saleslistDashboard(data);
        if(validatecheck.equals(true)) {
            Object salesListdashboard = salesDash.ListSalesdashboard(data,"sales");
            messageContext.getMessage().setContent(salesListdashboard.toString());
        } else {
            messageContext.getMessage().setContent(validatecheck.toString());
        }
        return ExecutionResult.SUCCESS;
    }

    public ExecutionResult getDepoReportDashboardList(MessageContext messageContext, ExecutionContext executionContext) {
        // TODO Auto-generated method stub
        JsonObject data = new Gson().fromJson(messageContext.getVariable("request.content").toString(), JsonObject.class);
        Object validatecheck = validate.saleslistDashboard(data);
        if(validatecheck.equals(true)) {
            Object salesListdashboard = salesDash.ListSalesdashboard(data,"depo");
            messageContext.getMessage().setContent(salesListdashboard.toString());
        } else {
            messageContext.getMessage().setContent(validatecheck.toString());
        }
        return ExecutionResult.SUCCESS;
    }

    public ExecutionResult getDepoApproveReject(MessageContext messageContext, ExecutionContext executionContext) {
        // TODO Auto-generated method stub
        JsonObject data = new Gson().fromJson(messageContext.getVariable("request.content").toString(), JsonObject.class);
        Object validatecheck = validate.validateActionreceiptApidata(data);
        if(validatecheck.equals(true)) {
            Object AcceptRejectObject = salesDash.getUpdateReceiptDepoinfo(data);
            messageContext.getMessage().setContent(AcceptRejectObject.toString());
        } else {
            messageContext.getMessage().setContent(validatecheck.toString());
        }
        return ExecutionResult.SUCCESS;
    }

	public ExecutionResult getloadGlpostinginformation(MessageContext messageContext, ExecutionContext executionContext) {
		// TODO Auto-generated method stub
		JsonObject data = new Gson().fromJson(messageContext.getVariable("request.content").toString(), JsonObject.class);
		Glpostingrepository glpost = new Glpostingrepository();
	    Object glposingresponse = glpost.getloadglPostingData(data);
//		String glposingresponse = "{'data':[{'documentDate':'17.04.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'17.04.2023','saphousebank':'','documentNumber':'INNIBD11984','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['PDC','Cheque','DD','Giro'],'sapMessage':'','sapaccountid':'','apporvedBy':'P00602003','currency':'BDT','text':'IBD11199-Advance','customername':'BDP10265','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'2094084','bankCode':'','sapBankbranch':'','amount':'1,41,924.00','accountnumber':'','lineitem':1,'bankBranch':'any','instrumentid':'INNIBD11984','sapInstrumentNumber':'','istumenttype':'Cheque','salesUserId':'P00116367','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD11199','instrumentdate':'17.04.2023','status':'Ready to Post'},{'documentDate':'17.04.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'17.04.2023','saphousebank':'','documentNumber':'INNIBD11972','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['PDC','Cheque','DD','Giro'],'sapMessage':'','sapaccountid':'','apporvedBy':'P00602003','currency':'BDT','text':'IBD11192-NA','customername':'BDI12231','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'1421822','bankCode':'F06670','sapBankbranch':'','amount':'28,484.00','accountnumber':'','lineitem':2,'bankBranch':'Baridhara','instrumentid':'INNIBD11972','sapInstrumentNumber':'','istumenttype':'Cheque','salesUserId':'P00125370','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD11192','instrumentdate':'17.04.2023','status':'Ready to Post'},{'documentDate':'14.03.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'14.03.2023','saphousebank':'','documentNumber':'INNIBD11331','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['PDC','Cheque','DD','Giro'],'sapMessage':'','sapaccountid':'','apporvedBy':'BD3102','currency':'BDT','text':'IBD1650-Payment in Cheque ','customername':'BDR1234567','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'123456','bankCode':'','sapBankbranch':'','amount':'5,000.00','accountnumber':'','lineitem':3,'bankBranch':'12345','instrumentid':'INNIBD11331','sapInstrumentNumber':'','istumenttype':'Cheque','salesUserId':'BD3101','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD1650','instrumentdate':'14.03.2023','status':'Ready to Post'},{'documentDate':'14.03.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'14.03.2023','saphousebank':'','documentNumber':'INNIBD11332','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['PDC','Cheque','DD','Giro'],'sapMessage':'','sapaccountid':'','apporvedBy':'BD3102','currency':'BDT','text':'IBD1650-test','customername':'BDR1234567','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'12546','bankCode':'','sapBankbranch':'','amount':'2,000.00','accountnumber':'','lineitem':4,'bankBranch':'Old Dhaka ','instrumentid':'INNIBD11332','sapInstrumentNumber':'','istumenttype':'DD','salesUserId':'BD3101','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD1650','instrumentdate':'14.03.2023','status':'Ready to Post'},{'documentDate':'14.03.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'','saphousebank':'','documentNumber':'','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['Cash'],'sapMessage':'','sapaccountid':'','apporvedBy':'BD3102','currency':'BDT','text':'IBD1648-test','customername':'BDR1234567','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'','bankCode':'','sapBankbranch':'','amount':'1,000.00','accountnumber':'','lineitem':5,'bankBranch':'','instrumentid':'','sapInstrumentNumber':'','istumenttype':'Cash','salesUserId':'','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD1648','instrumentdate':'','status':'Ready to Post'},{'documentDate':'20.02.2023','bussinessarea':[{'NAME':'Bangladesh'}],'sapInstrumentDate':'','saphousebank':'','documentNumber':'','bankCharges':'','sapDocumentDate':'','postingDate':'','specialglind':'','sapStatusCode':'','companycode':'IBD1','instrumentypenames':['Cash'],'sapMessage':'','sapaccountid':'','apporvedBy':'BD3102','currency':'BDT','text':'IBD1496-test','customername':'BDR1234567','gldropdown':[{'accountid':'BKS','bankinfo':[{'HOUSEBANK':'BKS'}]},{'accountid':'BRACC','bankinfo':[{'HOUSEBANK':'BRAC'}]},{'accountid':'CBARC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCHIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CCOMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFACC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CFENC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITI2','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CITIP','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CMYMC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CRAJC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CSYLC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'CTURC','bankinfo':[{'HOUSEBANK':'CITI'}]},{'accountid':'DBB','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBBHO','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_A','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_B','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_C','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_D','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_E','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_F','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_G','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_H','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_I','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_J','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'DBB_K','bankinfo':[{'HOUSEBANK':'DBB'}]},{'accountid':'SBOGC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SCBP','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SDEMC','bankinfo':[{'HOUSEBANK':'SCB'}]},{'accountid':'SKHUC','bankinfo':[{'HOUSEBANK':'SCB'}]}],'bankNamesList':[{'BANKNAME':'OTHER','BANKCODE':'F06751'},{'BANKCODE':'F06751','BANKNAME':'BRAC Bank Main A/C'},{'BANKCODE':'F06679','BANKNAME':'CITI COL A/C  - SYLH'},{'BANKCODE':'F06677','BANKNAME':'CITI COL A/C  - MYME'},{'BANKCODE':'F06676','BANKNAME':'CITI COL A/C  - RAJS'},{'BANKCODE':'F06675','BANKNAME':'CITI COL A/C  - BARI'},{'BANKCODE':'F06674','BANKNAME':'CITI COL A/C  - COMI'},{'BANKCODE':'F06672','BANKNAME':'CITI COL A/C  - TURA'},{'BANKCODE':'F06671','BANKNAME':'CITI COL A/C  - CHIT'},{'BANKCODE':'F06670','BANKNAME':'CITI COL A/C'},{'BANKCODE':'F06668','BANKNAME':'SCB NEW FAC OP - CTG'},{'BANKCODE':'F06667','BANKNAME':'SCB COL A/C - BOGRA'},{'BANKCODE':'F06666','BANKNAME':'SCB COL A/C - KHULNA'},{'BANKCODE':'F06665','BANKNAME':'SCB COL A/C - DEMRA'}],'micrnumber':'','instrumentnumber':'','bankCode':'','sapBankbranch':'','amount':'1,000.00','accountnumber':'','lineitem':6,'bankBranch':'','instrumentid':'','sapInstrumentNumber':'','istumenttype':'Cash','salesUserId':'','sapdocumentNumber':'','sapbussinessarea':'','fiscalYear':'','remarks':'IBD1496','instrumentdate':'','status':'Ready to Post'}],'numofpages':1,'totalrows':6,'statusMessage':'success','status':'200'}";
	    messageContext.getMessage().setContent(glposingresponse.toString());
		return ExecutionResult.SUCCESS;
	}

	public ExecutionResult postdatatoGlSap(MessageContext messageContext, ExecutionContext executionContext) {
		// TODO Auto-generated method stub
		JsonObject data = new Gson().fromJson(messageContext.getVariable("request.content").toString(), JsonObject.class);
		Glpostingrepository glpost = new Glpostingrepository();
		Object GlpostingResponse = glpost.posttoSapglData(data);
	    messageContext.getMessage().setContent(GlpostingResponse.toString());
		return ExecutionResult.SUCCESS;
	}

}
